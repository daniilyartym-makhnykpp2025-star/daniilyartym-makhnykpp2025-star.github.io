<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–®–û - University App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        border: "hsl(var(--border))", input: "hsl(var(--input))", ring: "hsl(var(--ring))", background: "hsl(var(--background))", foreground: "hsl(var(--foreground))",
                        primary: { DEFAULT: "hsl(var(--primary))", foreground: "hsl(var(--primary-foreground))" },
                        secondary: { DEFAULT: "hsl(var(--secondary))", foreground: "hsl(var(--secondary-foreground))" },
                        destructive: { DEFAULT: "hsl(var(--destructive))", foreground: "hsl(var(--destructive-foreground))" },
                        muted: { DEFAULT: "hsl(var(--muted))", foreground: "hsl(var(--muted-foreground))" },
                        accent: { DEFAULT: "hsl(var(--accent))", foreground: "hsl(var(--accent-foreground))" },
                        popover: { DEFAULT: "hsl(var(--popover))", foreground: "hsl(var(--popover-foreground))" },
                        card: { DEFAULT: "hsl(var(--card))", foreground: "hsl(var(--card-foreground))" },
                    },
                    borderRadius: { lg: "var(--radius)", md: "calc(var(--radius) - 2px)", sm: "calc(var(--radius) - 4px)" },
                }
            }
        }
    </script>
    <link rel="stylesheet" href="assets/css/globals.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>.hidden-screen { display: none !important; }</style>
</head>
<body class="min-h-screen transition-colors">

    <div id="login-screen" class="min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-purple-50 via-violet-50 to-teal-50 hidden-screen">
        <div class="bg-white rounded-2xl shadow-xl p-8 max-w-md w-full">
            <div class="mb-8 text-center">
                <div class="flex justify-center mb-4">
                    <img src="assets/img/logo.png" alt="–®–û Logo" class="w-40 h-40 object-contain">
                </div>
                <p className="text-gray-700 mb-2 font-medium">–°–ª–∞–≤–∞ –Ü—Å—É—Å—É –•—Ä–∏—Å—Ç—Éüôè</p>
                <p class="text-gray-600">–í–∞—Å –≤—ñ—Ç–∞—î <span class="text-violet-500 font-bold">–®–û</span></p>
            </div>

            <form id="login-form" class="space-y-4">
                <div class="relative">
                    <i data-lucide="mail" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></i>
                    <input type="email" id="login-email" class="w-full pl-10 pr-4 py-3 border border-violet-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-300" placeholder="–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞" required>
                </div>
                
                <div class="relative">
                    <i data-lucide="lock" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></i>
                    <input type="password" id="login-password" class="w-full pl-10 pr-4 py-3 border border-violet-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-300" placeholder="–ü–∞—Ä–æ–ª—å" required>
                </div>

                <div id="confirm-password-group" class="relative hidden">
                    <i data-lucide="lock" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></i>
                    <input type="password" id="login-confirm-password" class="w-full pl-10 pr-4 py-3 border border-violet-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-300" placeholder="–ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å">
                </div>

                <div class="flex items-center gap-2">
                    <input type="checkbox" id="agreement" class="w-5 h-5 text-violet-600 border-violet-300 rounded focus:ring-violet-500">
                    <label for="agreement" class="text-sm text-gray-700 cursor-pointer">–°–ª–∞–≤–∞ –ù–∞–≤—ñ–∫–∏ –ë–æ–≥—ÉüôåüïäÔ∏è</label>
                </div>

                <button type="submit" id="login-submit-btn" class="w-full bg-violet-400 text-white py-3 rounded-lg hover:bg-violet-500 transition-colors text-center font-medium">–£–≤—ñ–π—Ç–∏</button>
                
                <div class="text-center pt-2">
                    <button type="button" id="toggle-auth-mode" class="text-sm text-violet-600 hover:text-violet-700 transition-colors">–©–µ –Ω–µ –∑ –Ω–∞–º–∏? <span class="underline">–ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è</span></button>
                </div>
            </form>
        </div>
    </div>

    <div id="profile-setup-screen" class="min-h-screen bg-gradient-to-br from-purple-50 via-violet-50 to-teal-50 flex items-center justify-center p-4 hidden-screen">
        <div class="bg-white rounded-2xl shadow-xl p-8 max-w-md w-full" id="profile-setup-container">
            <div id="profile-setup-content">
                </div>
        </div>
    </div>

    <div id="app-locked" class="hidden-screen transition-colors min-h-screen pb-10">
        <div class="max-w-7xl mx-auto p-4 sm:p-6">
            <div class="mb-8">
                <div class="flex items-center justify-between mb-2">
                    <div class="flex items-center gap-3 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl px-6 py-3 shadow-sm">
                        <img src="assets/img/logo.png" alt="Logo" class="w-12 h-12 sm:w-16 sm:h-16 object-contain">
                        <div><p class="text-sm font-medium text-teal-600 dark:text-teal-400"><span id="user-group">–ü–ü-15</span> ‚Ä¢ –ü—ñ–¥–≥—Ä—É–ø–∞ <span id="user-subgroup">1</span></p></div>
                    </div>
                    <div class="relative">
                        <button id="user-menu-btn" class="flex items-center gap-2 px-4 py-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl shadow-sm hover:shadow-md transition-all">
                            <span class="text-2xl" id="user-avatar">üë§</span>
                            <span class="text-gray-700 dark:text-gray-200 font-medium hidden sm:block" id="user-nickname">User</span>
                        </button>
                        <div id="user-dropdown" class="absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-lg py-2 z-50 hidden">
                            <div class="px-4 py-3 border-b border-gray-100 dark:border-gray-700">
                                <p class="text-sm text-gray-500 dark:text-gray-400">–£–≤—ñ–π—à–ª–∏ —è–∫</p>
                                <p class="text-sm text-gray-700 dark:text-gray-200 truncate" id="user-email-display">email@example.com</p>
                            </div>
                            <button id="logout-btn" class="w-full px-4 py-2 text-left text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 transition-colors"><i data-lucide="log-out" class="w-4 h-4"></i>–í–∏–π—Ç–∏</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex flex-wrap sm:flex-nowrap gap-2 mb-6 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-2 shadow-sm max-w-3xl mx-auto overflow-x-auto">
                <button onclick="switchTab('schedule')" id="tab-schedule" class="nav-tab flex-1 flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-all"><i data-lucide="calendar" class="w-5 h-5"></i><span class="text-xs sm:text-sm">–†–æ–∑–∫–ª–∞–¥</span></button>
                <button onclick="switchTab('homework')" id="tab-homework" class="nav-tab flex-1 flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-all"><i data-lucide="book-open" class="w-5 h-5"></i><span class="text-xs sm:text-sm">–î–ó</span></button>
                <button onclick="showDownloadModal()" class="flex-1 flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-all opacity-50 cursor-not-allowed bg-gray-100 dark:bg-gray-700 relative"><i data-lucide="message-square" class="w-5 h-5 text-gray-500"></i><span class="text-xs sm:text-sm text-gray-500">–®–û —Ç–∞–º?</span><i data-lucide="lock" class="w-3 h-3 absolute top-1 right-1 text-gray-400"></i></button>
                <button onclick="showDownloadModal()" class="flex-1 flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-all opacity-50 cursor-not-allowed bg-gray-100 dark:bg-gray-700 relative"><i data-lucide="sparkles" class="w-5 h-5 text-gray-500"></i><span class="text-xs sm:text-sm text-gray-500">–®–Ü</span><i data-lucide="lock" class="w-3 h-3 absolute top-1 right-1 text-gray-400"></i></button>
                <button onclick="switchTab('settings')" id="tab-settings" class="nav-tab flex-1 flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-all"><i data-lucide="settings" class="w-5 h-5"></i><span class="text-xs sm:text-sm">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</span></button>
                <button onclick="switchTab('download')" id="tab-download" class="nav-tab flex-1 flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-all"><i data-lucide="download" class="w-5 h-5"></i><span class="text-xs sm:text-sm">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</span></button>
            </div>

            <div class="bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-2xl shadow-lg p-6 min-h-[400px]">
                <div id="view-schedule" class="view-content hidden-screen">
                    <div class="mb-6 flex flex-col sm:flex-row gap-4">
                        <div class="flex-1 flex items-center justify-between bg-white dark:bg-gray-700 rounded-xl p-4 shadow-sm">
                            <div class="flex items-center gap-3"><span class="text-2xl" id="week-icon">üî¢</span><div><p class="text-gray-700 dark:text-gray-200" id="week-label">–ß–∏—Å–µ–ª—å–Ω–∏–∫</p><p class="text-sm text-gray-500 dark:text-gray-400">–ü–æ—Ç–æ—á–Ω–∏–π —Ç–∏–∂–¥–µ–Ω—å</p></div></div>
                            <button onclick="toggleWeekType()" class="flex items-center gap-2 px-4 py-2 bg-violet-50 dark:bg-violet-900/30 text-violet-700 dark:text-violet-300 rounded-lg hover:bg-violet-100 dark:hover:bg-violet-900/50 transition-colors"><i data-lucide="refresh-cw" class="w-4 h-4"></i>–ó–º—ñ–Ω–∏—Ç–∏</button>
                        </div>
                    </div>
                    <div class="mb-6 flex items-center gap-2 bg-white dark:bg-gray-700 rounded-xl p-2 shadow-sm">
                        <button onclick="setScheduleSubgroup(1)" id="btn-subgroup-1" class="flex-1 px-4 py-2 rounded-lg transition-all">–ü—ñ–¥–≥—Ä—É–ø–∞ 1</button>
                        <button onclick="setScheduleSubgroup(2)" id="btn-subgroup-2" class="flex-1 px-4 py-2 rounded-lg transition-all">–ü—ñ–¥–≥—Ä—É–ø–∞ 2</button>
                    </div>
                    <div class="flex gap-2 mb-6 overflow-x-auto pb-2" id="days-container"></div>
                    <div id="schedule-list" class="space-y-4"></div>
                </div>

                <div id="view-homework" class="view-content hidden-screen">
                    <div class="flex flex-col sm:flex-row items-center justify-between mb-6 gap-4">
                        <div class="flex gap-2 w-full sm:w-auto overflow-x-auto">
                            <button onclick="setHomeworkFilter('active')" id="filter-active" class="px-4 py-2 rounded-lg transition-all whitespace-nowrap">–ê–∫—Ç–∏–≤–Ω—ñ</button>
                            <button onclick="setHomeworkFilter('all')" id="filter-all" class="px-4 py-2 rounded-lg transition-all whitespace-nowrap">–£—Å—ñ</button>
                            <button onclick="setHomeworkFilter('completed')" id="filter-completed" class="px-4 py-2 rounded-lg transition-all whitespace-nowrap">–í–∏–∫–æ–Ω–∞–Ω—ñ</button>
                        </div>
                        <button onclick="openAddHomeworkModal()" class="w-full sm:w-auto flex items-center justify-center gap-2 px-4 py-2 bg-teal-400 dark:bg-teal-600 text-white rounded-lg hover:bg-teal-500 transition-colors"><i data-lucide="plus" class="w-5 h-5"></i>–î–æ–¥–∞—Ç–∏ –î–ó</button>
                    </div>
                    <div id="homework-list" class="space-y-4"></div>
                </div>

                <div id="view-settings" class="view-content hidden-screen space-y-8 max-w-4xl mx-auto">
                    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 space-y-4">
                        <div class="flex items-center gap-3 mb-4"><div class="w-10 h-10 bg-gradient-to-br from-violet-400 to-purple-400 rounded-lg flex items-center justify-center"><i data-lucide="sun-moon" class="w-5 h-5 text-white"></i></div><h2 class="text-gray-900 dark:text-gray-100 font-bold">–¢–µ–º–∞</h2></div>
                        <div class="grid grid-cols-2 gap-4">
                            <button onclick="setTheme('light')" id="theme-light-btn" class="p-4 rounded-xl border-2 flex items-center gap-3"><div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center"><i data-lucide="sun" class="text-orange-500"></i></div>–°–≤—ñ—Ç–ª–∞</button>
                            <button onclick="setTheme('dark')" id="theme-dark-btn" class="p-4 rounded-xl border-2 flex items-center gap-3"><div class="w-10 h-10 bg-gray-700 rounded-lg flex items-center justify-center"><i data-lucide="moon" class="text-white"></i></div>–¢–µ–º–Ω–∞</button>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 space-y-4">
                         <div class="flex items-center gap-3 mb-4"><div class="w-10 h-10 bg-gradient-to-br from-teal-400 to-cyan-400 rounded-lg flex items-center justify-center"><i data-lucide="image" class="w-5 h-5 text-white"></i></div><h2 class="text-gray-900 dark:text-gray-100 font-bold">–ó–∞–¥–Ω—ñ–π —Ñ–æ–Ω</h2></div>
                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-3" id="backgrounds-grid"></div>
                         <div class="space-y-3 pt-4 border-t border-gray-200 dark:border-gray-700">
                            <div class="flex gap-2">
                                <input type="url" id="custom-bg-input" placeholder="https://... (URL –∫–∞—Ä—Ç–∏–Ω–∫–∏)" class="flex-1 px-3 py-2 bg-gray-50 dark:bg-gray-700 border rounded-lg dark:border-gray-600 dark:text-white">
                                <button onclick="setCustomBackground()" class="px-4 py-2 bg-violet-500 text-white rounded-lg hover:bg-violet-600">–î–æ–¥–∞—Ç–∏</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="view-download" class="view-content hidden-screen">
                     <div class="text-center py-12">
                        <div class="w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6"><i data-lucide="download" class="w-10 h-10 text-green-600 dark:text-green-400"></i></div>
                        <h2 class="text-2xl font-bold mb-2 text-gray-900 dark:text-white">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫</h2>
                        <p class="text-gray-500 dark:text-gray-400 max-w-md mx-auto mb-8">–û—Ç—Ä–∏–º–∞–π—Ç–µ –ø–æ–≤–Ω–∏–π –¥–æ—Å–≤—ñ–¥ –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏ —Ç–∞ –®–Ü-–∞—Å–∏—Å—Ç–µ–Ω—Ç–æ–º —É –Ω–∞—à–æ–º—É –º–æ–±—ñ–ª—å–Ω–æ–º—É –¥–æ–¥–∞—Ç–∫—É.</p>
                        <button class="px-8 py-3 bg-green-600 text-white rounded-xl font-medium shadow-lg hover:bg-green-700 transition-all">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ .APK</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="download-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm hidden-screen">
        <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-sm w-full mx-4 shadow-2xl text-center">
            <div class="w-12 h-12 bg-violet-100 dark:bg-violet-900/30 rounded-full flex items-center justify-center mx-auto mb-4"><i data-lucide="lock" class="w-6 h-6 text-violet-600 dark:text-violet-400"></i></div>
            <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-2">–§—É–Ω–∫—Ü—ñ—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞</h3>
            <p class="text-gray-500 dark:text-gray-400 mb-6 text-sm">–¶—è —Ñ—É–Ω–∫—Ü—ñ—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏—à–µ –≤ –º–æ–±—ñ–ª—å–Ω–æ–º—É –¥–æ–¥–∞—Ç–∫—É.</p>
            <div class="flex gap-3">
                <button onclick="hideDownloadModal()" class="flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium">–ó—Ä–æ–∑—É–º—ñ–ª–æ</button>
                <button onclick="switchTab('download'); hideDownloadModal()" class="flex-1 px-4 py-2 bg-violet-600 text-white rounded-xl font-medium">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</button>
            </div>
        </div>
    </div>

    <div id="add-homework-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm hidden-screen">
        <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl">
            <div class="flex justify-between items-center mb-6"><h3 class="text-lg font-bold text-gray-900 dark:text-white">–î–æ–¥–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è</h3><button onclick="closeAddHomeworkModal()"><i data-lucide="x" class="w-5 h-5 text-gray-500"></i></button></div>
            <form id="add-homework-form" class="space-y-4">
                <div><label class="block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300">–ü—Ä–µ–¥–º–µ—Ç</label><select id="hw-subject" required class="w-full p-2 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 dark:text-white"></select></div>
                <div><label class="block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300">–û–ø–∏—Å</label><textarea id="hw-description" required rows="3" class="w-full p-2 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 dark:text-white"></textarea></div>
                <div class="grid grid-cols-2 gap-4">
                    <div><label class="block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300">–î–∞—Ç–∞</label><input type="date" id="hw-date" required class="w-full p-2 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 dark:text-white"></div>
                    <div><label class="block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300">–ß–∞—Å</label><input type="time" id="hw-time" value="23:59" required class="w-full p-2 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 dark:text-white"></div>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">–í–∏–¥–∏–º—ñ—Å—Ç—å</label>
                    <div class="flex gap-4">
                        <label class="flex items-center gap-2"><input type="radio" name="hw-visibility" value="public" checked class="text-violet-600"><span class="text-sm text-gray-700 dark:text-gray-300">–ü—É–±–ª—ñ—á–Ω–µ</span></label>
                        <label class="flex items-center gap-2"><input type="radio" name="hw-visibility" value="private" class="text-violet-600"><span class="text-sm text-gray-700 dark:text-gray-300">–¢—ñ–ª—å–∫–∏ –º–µ–Ω—ñ</span></label>
                    </div>
                </div>
                <button type="submit" class="w-full py-3 bg-violet-600 hover:bg-violet-700 text-white rounded-xl font-medium shadow-lg mt-4">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
            </form>
        </div>
    </div>

    <script src="assets/js/app.js"></script>
</body>
</html>